name: Deploy Hugo site to GitHub Pages

on:
  push:
    branches:
      - main  # â† mainãƒ–ãƒ©ãƒ³ãƒã« push ã•ã‚ŒãŸã¨ãã«ãƒ“ãƒ«ãƒ‰å®Ÿè¡Œ

jobs:
  build-deploy:
    runs-on: ubuntu-latest

    # ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å…¨ä½“ã§ãƒªãƒã‚¸ãƒˆãƒªã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¸ã®æ›¸ãè¾¼ã¿æ¨©é™ã‚’ä»˜ä¸
    permissions:
      contents: write

    steps:
      - name: ğŸ“¥ ãƒªãƒã‚¸ãƒˆãƒªã‚’å–å¾—
        uses: actions/checkout@v4

      - name: âš™ï¸ Hugo ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
        uses: peaceiris/actions-hugo@v3
        with:
          hugo-version: '0.121.0'  # â† å¿…è¦ã«å¿œã˜ã¦å›ºå®š

      - name: ğŸ”¨ Hugo ãƒ“ãƒ«ãƒ‰
        run: hugo --minify

      - name: ğŸš€ GitHub Pages ã«ãƒ‡ãƒ—ãƒ­ã‚¤
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./public
          publish_branch: gh-pages
